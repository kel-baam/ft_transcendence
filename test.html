<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client-Side Routing Example</title>
</head>
<body>
    <nav>
        <a href="/home" data-link>Home</a>
        <a href="/about" data-link>About</a>
        <a href="/contact" data-link>Contact</a>
    </nav>

    <main id="content">
        <!-- Content will be dynamically inserted here -->
    </main>

    <script>
        class HomeComponent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = '<h2>Home Page</h2><p>Welcome to the home page!</p>';
            }
        }

        class AboutComponent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = '<h2>About Page</h2><p>Information about us.</p>';
            }
        }

        class ContactComponent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = '<h2>Contact Page</h2><p>Contact us here.</p>';
            }
        }

        customElements.define('home-component', HomeComponent);
        customElements.define('about-component', AboutComponent);
        customElements.define('contact-component', ContactComponent);

        function loadPage(path) {
            const contentDiv = document.getElementById('content');
            switch (path) {
                case '/home':
                    contentDiv.innerHTML = '<home-component></home-component>';
                    break;
                case '/about':
                    contentDiv.innerHTML = '<about-component></about-component>';
                    break;
                case '/contact':
                    contentDiv.innerHTML = '<contact-component></contact-component>';
                    break;
                default:
                    contentDiv.innerHTML = '<home-component></home-component>';
                    break;
            }
        }

        function navigate(event) {
            event.preventDefault();
            const path = event.target.getAttribute('href');
            history.pushState(null, null, path);
            loadPage(path);
        }

        window.addEventListener('popstate', () => {
            loadPage(window.location.pathname);
        });

        document.querySelectorAll('[data-link]').forEach(link => {
            link.addEventListener('click', navigate);
        });

        window.addEventListener('load', () => {
            loadPage(window.location.pathname || '/home');
        });
    </script>
</body>
</html>
